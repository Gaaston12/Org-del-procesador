<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Practical Electronics for Inventors, Third Edition</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<div class="calibre3"><span><span class="bold">Voltage-to-Current Converter</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01498.jpg" class="calibre1344"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Here is a simple current source whose output current is determined by an input voltage applied to the noninverting terminal of the op amp. The output current and voltage are determined by the following expressions:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01499.jpg" class="calibre1345"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small> can be set with a voltage divider.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.38</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Precision Current Source</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01500.jpg" class="calibre1346"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Here, a precision current uses a JFET to drive a bipolar output transistor used to sink current through a load. Unlike the preceding current source, this circuit is less susceptible to output drift. Use of the JFET helps achieve essentially zero bias current error (a single bipolar output stage will leak base current). This circuit is accurate for output currents larger than the JFET’s <span class="italic">I</span><small class="calibre28"><span class="calibre17"><sub class="calibre37"><span class="italic">DS</span>(on)</sub></span></small> and provided <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small> is greater than 0 V. For large currents, the FET-bipolar combination can be replaced with a Darlington transistor, provided its base current does not introduce significant error. The output current or load current is determined by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><span class="italic">I</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">load</sub></span></small> = <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small>/<span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> acts as an adjustment control. Additional compensation may be required depending on the load reactance and the transistors’ parameters. Make sure to use transistors of sufficient power ratings to handle the load current in question.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.39</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><a></a><span class="bold">Current-to-Voltage Converter</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01501.jpg" class="calibre1347"/></span></div>
<div class="calibre3"><span><img alt="images" src="images/01502.jpg" class="calibre122"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The circuit shown here transforms a current into a voltage. The feedback resistor <span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">F</sub></span></small></span> helps establish a voltage at the inverting input and controls the swing of the output. The output voltage for this circuit is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out</sub></span></small> = <span class="italic">I</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small><span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">F</sub></span></small></span></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The light-activated circuits shown below use this principle to generate an output voltage that is proportional to the amount of input current drawn through the light sensor.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.40</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Overvoltage Protection (Crowbar)</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01503.jpg" class="calibre1348"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This circuit acts as a fast-acting overvoltage protection control used to protect sensitive loads from voltage surges generated in the power supply. Initially, let’s assume that the supply is doing what it should—generating a constant +6 V. In this case, the voltage applied to the op amp’s noninverting input is set to 3 V (by means of the <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small>,<span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> voltage divider—the pot provides fine-tuning adjustment). At the same time, the inverting input is set to 3 V by means of the 3-V zener diode. The op amp’s differential input voltage in this case is therefore zero, making the op amp’s output zero (op amp acts as a comparator). With the op amp’s output zero, the SCR is off, and no current will pass from anode (A) to cathode to ground. Now, let’s say there’s a sudden surge in the supply voltage. When this occurs, the voltage at the noninverting input increases, while the voltage at the inverting input remain at 3 V (due to the 3-V zener). This causes the op amp’s output to go high, triggering the SCR on and diverting all current from the load to ground in the process. As a result, the fuse (breaker) blows and the load is saved. The switch is opened to reset the SCR.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.41</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><a></a><span class="bold">Programmable-Gain Op Amp</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01504.jpg" class="calibre1349"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This circuit is simply an inverting amplifier whose feedback resistance (gain) is selected by means of a digitally controlled bilateral switch (e.g., CMOS 4066). For example, if the bilateral switch’s input <span class="italic">a</span> is set high (+5 to +18 V) while its <span class="italic">b</span> through <span class="italic">d</span> inputs are set low (0 V), only resistor <span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">a</sub></span></small></span> will be present in the feedback loop. If you make inputs <span class="italic">a</span> through <span class="italic">d</span> high, then the effective feedback resistance is equal to the parallel resistance of resistors <span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">a</sub></span></small></span> through <span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">d</sub></span></small></span>. Bilateral switches are discussed in greater detail in <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_016.html#filepos2635639">Chap. 12</a>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.42</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Sample-and-Hold Circuits</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01505.jpg" class="calibre1350"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Sample-and-hold circuits are used to sample an analog signal and hold it so that it can be analyzed or converted into, say, a digital signal at one’s leisure. In the first circuit, a switch acts as a sample/ hold control. Sampling begins when the switch is closed and ends when the switch is opened. When the switch is opened, the input voltage present at that exact moment will be stored in <span class="italic">C</span>. The op amp acts as a unity-gain amplifier (buffer), relaying the capacitor’s voltage to the output but preventing the capacitor from discharging (recall that ideally, no current enters the inputs of an op amp). The length of time a sample voltage can be held varies depending on how much current leaks out of the capacitor. To minimize leakage currents, use op amps with low input-bias currents (e.g., FET op amps). In the other two circuits, the sample/hold manual switch is replaced with an electrically controlled switch—the left-most circuit uses a bilateral switch, while the right-most circuit uses a MOSFET. Capacitors best suited for sample/hold applications include Teflon, polyethylene, and polycarbonate dielectric capacitors.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.43</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><a></a><span class="bold">Peak Detectors</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01506.jpg" class="calibre1351"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The circuits shown here act as peak detectors—they follow an incoming voltage signal and store its maximum voltage within <span class="italic">C</span> (see graph). The op amp in the upper circuit acts as a buffer—it “measures” the voltage in <span class="italic">C</span>, outputs that voltage, and prevents <span class="italic">C</span> from discharging. The diode also prevents the capacitor from discharging when the input drops below the peak voltage stored on <span class="italic">C</span>. The second circuit is a more practical peak detector. The additional op amp makes the detector more sensitive; it compensates for the diode voltage drop (around 0.6 V) by feeding back <span class="italic">C</span>’s voltage to the inverting terminal. In other words, it acts as an active rectifier. Also, this circuit incorporates a switch to reset the detector. Often, peak detectors use a FET in place of the diode and use the FET’s gate as a reset switch. Reducing the capacitance of <span class="italic">C</span> promotes faster response times for changes in <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.44</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Noninverting Clipper Amplifier</span></span></div>
<div class="calibre3"><span><img alt="images" src="images/01507.jpg" class="calibre1352"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This simple amplifier circuit acts to clip both positive and negative going portions of the output signal. The clipping occurs in the feedback network whenever the feedback voltage exceeds a zener diode’s breakdown voltage. Removing one of the zener diodes results in partial clipping (either positive or negative going, depending on which zener diode is removed). This circuit can be used to limit overloads within audio amplifiers and as a simple sinewave-to-squarewave converter.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.45</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Active Rectifiers</span></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01508.jpg" class="calibre1353"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>A single diode acts to rectify a signal—however, at the cost of a diode drop (e.g., 0.6 V). Not only does this voltage drop lower the level of the output, but it also makes it impossible to rectify low-level signals below 0.6 V. A simple solution to this problem is to construct an active rectifier like the one shown here. This circuit acts as an ideal rectifier, in so far as it rectifies signals all the way down to 0 V. To figure out how this circuit works, let’s apply the rules we have learned. If <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small> is positive, current <span class="italic">I</span> will flow in the direction shown in the simplified network shown below the main circuit. Since <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">+</sub></span></small> is grounded, and since we have feedback, <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">−</sub></span></small> = <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">+</sub></span></small> = 0 V (rule 4), we can use Kirchhoff’s voltage law to find <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out1</sub></span></small>, <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out2</sub></span></small>, and finally, <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out3</sub></span></small>: 0 V − <span class="italic">IR</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> − 0.6 V − <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out1</sub></span></small> = 0</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01509.jpg" class="calibre1354"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Notice that there is no 0.6-V drop present at the final output; however, the output is inverted relative to the input. Now, if <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small> is negative, the output will source current through <span class="italic">D</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> to bring <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">−</sub></span></small> to 0 V (rule 4). But since no current will pass through <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> (due to buffer), the 0 V at <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">−</sub></span></small> is present at <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out2</sub></span></small> and likewise present at <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out3</sub></span></small>. The buffer stage is used to provide low output impedance for the next stage without loading down the rectifier stage. To preserve the polarity of the input at the output, an inverting buffer (unity-gain inverter) can be attached to the output.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 8.46</span></span></span></div><div class="calibre35"> </div>  <div class="mbppagebreak"></div><div id="filepos2423538" class="calibre8"><span><a></a><span class="bold">CHAPTER 9</span></span></div><div class="calibre32"> </div>
<div class="calibre19"><span class="calibre5"><span class="bold"><span><span class="bold">Filters</span></span></span></span></div><div class="calibre21"> </div>
<div class="calibre11"><span>A <span class="italic">filter</span> is a circuit that is capable of passing a specific range of frequencies while blocking other frequencies. As you discovered in <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_000.html#filepos211756">Chap. 2</a>, the four major types of filters include <span class="italic">low-pass filters, high-pass filters, bandpass filters</span>, and <span class="italic">notch filters</span> (or <span class="italic">band-reject filters</span>). A low-pass filter passes low-frequency components of an input signal, while a high-pass filter passes high-frequency components. A bandpass filter passes a narrow range of frequencies centered around the filter’s resonant frequency, while a notch filter passes all frequencies except those within a narrow band centered around the filter’s resonant frequency.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01510.jpg" class="calibre713"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.1</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span><a></a>Filters have many practical applications in electronics. For example, within a dc power supply, filters can be used to eliminate unwanted high-frequency noise present within the ac line voltage, and they act to flatten out pulsing dc voltages generated by the supply’s rectifier section. In radio communications, filters make it possible for a radio receiver to provide the listener with only the desired signal while rejecting all others. Likewise, filters allow a radio transmitter to generate only one signal while attenuating other signals that might interfere with different radio transmitters’ signals. In audio electronics, filter networks called <span class="italic">crossover networks</span> are used to divert low audio signals to woofers, middle-range frequencies to midrange speakers, and high frequencies to tweeters. A high-pass filter is often used to eliminate 60 Hz mains hum from audio circuits. The list of filter applications is extensive.</span></div>
<div class="calibre26"><span>There are two filter types covered in this chapter, namely, <span class="italic">passive filters</span> and <span class="italic">active filters</span>. Passive filters are designed using passive elements (e.g., resistors, capacitors, and inductors) and are most responsive to frequencies between around 100 Hz and 300 MHz. (The lower frequency limit results from the fact that at low frequencies the capacitance and inductance values become exceedingly large, meaning prohibitively large components are needed. The upper frequency limit results from the fact that at high frequencies parasitic capacitances and inductances wreak havoc.) When designing passive filters with very steep attenuation falloff responses, the number of inductor and capacitor sections increases. As more sections are added to get the desired response, greater is the chance for signal loss to occur. Also, source and load impedances must be taken into consideration when designing passive filters.</span></div>
<div class="calibre26"><span>Active filters, unlike passive filters, are constructed from op amps, resistors, and capacitors—no inductors are needed. Active filters are capable of handling very low frequency signals (approaching 0 Hz), and they can provide voltage gain if needed (unlike passive filters). Active filters can be designed to offer comparable performance to <span class="italic">LC</span> filters, and they are typically easier to make, less finicky, and can be designed without the need for large-sized components. Also, with active filters, a desired input and output impedance can be provided that is independent of frequency. One major drawback with active filters is a relatively limited high-frequency range. Above around 100 kHz or so, active filters can become unreliable (a result of the op amp’s bandwidth and slew-rate requirements). At radiofrequencies, it is best to use a passive filter.</span></div>
<div id="filepos2427897" class="calibre3"><span class="calibre7"><span><span class="bold">9.1   Things to Know Before You Start Designing Filters</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>When describing how a filter behaves, a response curve is used, which is simply an attenuation (<span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">out</sub></span></small>/<span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small>) versus frequency graph (see <a href="#filepos2429082">Fig. 9.2</a>). As you discovered in <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_000.html#filepos211756">Chap. 2</a>, attenuation is often expressed in decibels (dB), while frequency may be expressed in either angular form ω (expressed in rad/s) or conventional form <span class="italic">f</span> (expressed in Hz). The two forms are related by ω = 2π<span class="italic">f</span>. Filter response curves may be plotted on linear-linear, log-linear, or log-log paper. In the case of log-linear graphs, the attenuation need not be specified in decibels.</span></div>
<div id="filepos2429082" class="calibre3"><span><img alt="image" src="images/01511.jpg" class="calibre853"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.2</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span><a></a>Here are some terms that are commonly used when describing filter response:</span></div>
<div class="calibre187"><span><span class="italic">−3-dB Frequency</span> (<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small>). This represents the input frequency that causes the output signal to drop to −3 dB relative to the input signal. The −3-dB frequency is equivalent to the cutoff frequency—the point where the input-to-output power is reduced by one-half or the point where the input-to-output voltage is reduced by 1/<img alt="image" src="images/00203.jpg" class="calibre226"/>. For low-pass and high-pass filters, there is only one −3-dB frequency. However, for bandpass and notch filters, there are two −3-dB frequencies, typically referred to as <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> and <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>.</span></div>
<div class="calibre187"><span><span class="italic">Center frequency</span> (<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small>). On a linear-log graph, bandpass filters are geometrically symmetrical around the filter’s resonant frequency or center frequency—provided the response is plotted on linear-log graph paper (the logarithmic axis representing the frequency). On linear-log paper, the central frequency is related to the −3-dB frequencies by the following expression:</span></div>
<div class="calibre19"><span><img alt="image" src="images/01512.jpg" class="calibre1355"/></span></div>
<div class="calibre6"><blockquote class="calibre22"><span>    For narrow-band bandpass filters, where the ratio of <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> to <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> is less than 1.1, the response shape approaches arithmetic symmetry. In this case, we can approximate <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> by taking the average of −3-dB frequencies:</span></blockquote></div>
<div class="calibre19"><span><img alt="image" src="images/01513.jpg" class="calibre1356"/></span></div>
<div class="calibre187"><span><span class="italic">Passband</span>. This represents those frequency signals that reach the output with no more than −3 dB worth of attenuation.</span></div>
<div class="calibre187"><span><span class="italic">Stop-band frequency (f<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small>)</span>. This is a specific frequency where the attenuation reaches a specified value set by the designer. For low-pass and high-pass filters, the frequencies beyond the stop-band frequency are referred to as the <span class="italic">stop band</span>. For bandpass and notch filters, there are two stop-band frequencies, and the frequencies between the stop bands are also collectively called the <span class="italic">stop band</span>.</span></div>
<div class="calibre187"><span><span class="italic">Quality factor (Q)</span>. This represents the ratio of the center frequency of a bandpass filter to the −3-dB bandwidth (distance between −3-dB points <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> and <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>):</span></div>
<div class="calibre19"><span><img alt="image" src="images/01514.jpg" class="calibre1357"/></span></div>
<div class="calibre6"><span>For a notch filter, use <span class="italic">Q</span> = (<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> − <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small>)/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small>, where <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> is often referred to as the <span class="italic">null frequency</span>.</span></div>
<div id="filepos2433516" class="calibre3"><span class="calibre7"><span><span class="bold">9.2   Basic Filters</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>In <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_000.html#filepos211756">Chap. 2</a> you discovered that by using the reactive properties of capacitors and inductors, along with the resonant behavior of <span class="italic">LC</span> series and parallel networks, you could create simple low-pass, high-pass, bandpass, and notch filters. Here’s a quick look at the basic filters covered in <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_000.html#filepos211756">Chap. 2</a>:</span></div>
<div class="calibre3"><span><img alt="image" src="images/01515.jpg" class="calibre109"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.3</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span><a></a>Now, all the filters shown in this figure have a common limiting characteristic, namely, a shallow 6-dB per octave falloff response beyond the −3-dB point(s). (You can prove this to yourself by going back to <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_000.html#filepos211756">Chap. 2</a> and fiddling with the equations.) In certain noncritical applications, a 6-dB per octave falloff works fine, especially in cases where the signals you want to remove are set well beyond the −3-dB point. However, in situations where greater frequency selectivity is needed (e.g., steeper falloffs and flatter passbands), 6-dB per octave filters will not work. What is needed is a new way to design filters.</span></div>
<div class="calibre3"><span><span class="bold">Making Filters with Sharper Falloff and Flatter Passband Responses</span></span></div>
<div class="calibre11"><span>One approach used for getting a sharper falloff would be to combine a number of 6-dB per octave filters together. Each new section would act to filter the output of the preceding section. However, connecting one filter with another for the purpose of increasing the “dB per octave” slope is not as easy as it seems and in fact becomes impractical in certain instances (e.g., narrow-band bandpass filter design). For example, you have to contend with transient responses, phase-shift problems, signal degradation, winding capacitances, internal resistances, magnetic noise pickup, etc. Things can get nasty.</span></div>
<div class="calibre26"><span>To keep things practical, what I will do is skip the hard-core filter theory (which can indeed get very nasty) and simply apply some design tricks that use basic response graphs and filter design tables. To truly understand the finer points of filter theory is by no means trivial. If you want in-depth coverage of filter theory, refer to a filter design handbook. (A comprehensive handbook written by Zverck covers almost everything you would want to know about filters.)</span></div>
<div class="calibre26"><span>Let’s begin by jumping straight into some practical filter design examples that require varying degrees of falloff response beyond 6 dB per octave. As you go through these examples, important new concepts will surface. First, I will discuss passive filters and then move on to active filters.</span></div>
<div id="filepos2437129" class="calibre3"><span class="calibre7"><span><span class="bold">9.3   Passive Low-Pass Filter Design</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>Suppose that you want to design a low-pass filter that has a <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> = 3000 Hz (attenuation is −3 dB at 3000 Hz) and an attenuation of −25 dB at a frequency of 9000 Hz—which will be called the <span class="italic">stop frequency f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37"><span class="italic">s</span></sub></span></small>. Also, let’s assume that both the signal-source impedance <span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span> and the load impedance <span class="italic">R<small class="calibre28"><span class="calibre17"><sub class="calibre37">L</sub></span></small></span> are equal to 50 Ω. How do you design the filter?</span></div>
<div class="calibre3"><span><span class="bold">Step 1 (Normalization)</span></span></div>
<div class="calibre3"><span><img alt="image" src="images/01516.jpg" class="calibre1358"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>First, make a rough attenuation versus frequency graph to give yourself a general idea of what the response looks like (see far-left figure). Next, you must normalize the graph. This means that you set the −3-dB frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> to 1 rad/s. The figure to the near left shows the normalized graph. (The reason for normalizing becomes important later on when you start applying design tricks that use normalized response curves and tables.) In order to determine the normalized stop frequency, simply use the following relation, which is also referred to as the <span class="italic">steepness factor:</span></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01517.jpg" class="calibre1359"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This expression tells you that the normalized stop frequency is three times larger than the normalized −3-dB point of 1 rad/s. Therefore, the normalized stop frequency is 3 rad/s.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.4</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Step 2 (Pick Response Curve)</span></span></div>
<div class="calibre3"><span><img alt="image" src="images/01518.jpg" class="calibre1360"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Next, you must pick a filter response type. Three of the major kinds to choose from include the Butterworth, Chebyshev, and Bessel. Without getting too technical here, what is going on is this: Butterworth, Chebyshev, and Bessel response curves are named after individuals who were able to model <span class="italic">LC</span> filter networks after a mathematical function called the <span class="italic">transfer function</span>, given here:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01519.jpg" class="calibre599"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The <span class="italic">N</span>’s in the equation are the numerator’s coefficients, the <span class="italic">D</span>’s are the denominator’s coefficients, and <span class="italic">S = jω</span> (<span class="italic">j</span> = <img alt="image" src="images/01520.jpg" class="calibre373"/>, ω = 2π<span class="italic">f</span>). The highest power <span class="italic">n</span> in the denominator is referred to as the order of the filter or the number of poles. The highest power <span class="italic">m</span> in the numerator is referred to as the number of zeros. Now, by manipulating this function, individuals (e.g., Butterworth, Chebyshev, and Bessel) were able to generate unique graphs of the transfer function that resembled the attenuation response curves of cascaded <span class="italic">LC</span> filter networks. What is important to know, for practical purposes, is that the number of poles within the transfer function correlates with the number of <span class="italic">LC</span> sections present within the cascaded filter network and determines the overall steepness of the response curve (the decibels per octave). As the number of poles increases (number of <span class="italic">LC</span> sections increases), the falloff response becomes steeper. The coefficients of the transfer function influence the overall shape of the response curve and correlate with the specific capacitor and inductor values found within the filter network. Butterworth, Chebyshev, and Bessel came up with their own transfer functions and figured out what values to place in the coefficients and how to influence the slope of the falloff by manipulating the order of the transfer function. Butterworth figured out a way to manipulate the function to give a maximally flat passband response at the expense of steepness in the transition region between the passband and the stop band. Chebyshev figured out a way to get a very steep transition between the passband and stop band at the expense of ripples present in the passband, while Bessel figured out a way to minimize phase shifts at the expense of both flat passbands and steep falloffs. Later I will discuss the pros and cons of Butterworth, Chebyshev, and Bessell filters. For now, however, let’s concentrate on Butterworth filters.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.5</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Step 3 (Determine the Number of Poles Needed)</span></span></div>
<div id="filepos2443279" class="calibre3"><span><img alt="image" src="images/01521.jpg" class="calibre1361"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>Continuing on with our low-pass filter problem, lef’s choose the Butterworth design approach, since it is one of the more popular designs used. The next step is to use a graph of attenuation versus normalized frequency curves for Butterworth low-pass filters, shown in the figure. (Response curves like this are provided in filter handbooks, along with response curves for Chebyshev and Bessel filters.) Next, pick out the single response curve from the graph that provides the desired −25 dB at 3 rad/s, as stated in the problem. If you move your finger along the curves, you will find that the <span class="italic">n</span> = 3 curve provides sufficient attenuation at 3 rad/s. Now, the filter that is needed will be a third-order low-pass filter, since there are three poles. This means that the actual filter that you will construct will have three <span class="italic">LC</span> sections.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.6</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Step 4 (Create a Normalized Filter)</span></span></div>
<div class="calibre3"><span><img alt="image" src="images/01522.jpg" class="calibre1362"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Now that you have determined the order of the filter, move on to the next step—creating a normalized <span class="italic">LC</span> filter circuit. (This circuit will not be the final filter circuit you will use—it will need to be altered.) The circuit networks that are used in this step take on either a π or the <span class="italic">T</span> configuration, as shown in the figure. If the source and load impedances match, either configuration can be used—though a π network is more attractive because fewer inductors are needed. However, if the load impedance is greater than the source impedance, it is better to use <span class="italic">T</span> configuration. If the load impedance is smaller than the source impedance, it is better to use the π configuration. Since the initial problem stated that the source and load impedances were both 50 Ω, choose the π configuration. The values of the inductors and capacitors are given in <a href="#filepos2446645">Table 9.1</a>. (Filter handbooks will provide such tables, along with tables for Chebyshev and Bessel filters.) Since you need a third-order filter, use the values listed in the <span class="italic">n</span> = 3 row. The normalized filter circuit you get in this case is shown in <a href="#filepos2447855">Fig. 9.8</a>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.7</span></span></span></div><div class="calibre35"> </div>
<div class="calibre4"><span class="calibre17"><span class="bold"><span><a></a><span class="bold">TABLE 9.1 Butterworth Active Filter Low-Pass Values</span></span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div id="filepos2446645" class="calibre3"><span><img alt="image" src="images/01523.jpg" class="calibre183"/></span></div>
<div class="calibre11"><blockquote class="calibre22"><span class="calibre17"><span><span class="italic">Note:</span> Values of <span class="italic">L<small class="calibre28"><span class="calibre17"><sub class="calibre37">n</sub></span></small></span> and <span class="italic">C<small class="calibre28"><span class="calibre17"><sub class="calibre37">n</sub></span></small></span> are for a 1-Ω load and −3-dB frequency of 1 rad/s and have units of H and F. These values must be scaled down. See text.</span></span></blockquote></div><div class="calibre32"> </div>
<div class="calibre26"><span>As mentioned a moment ago, this circuit is not the final circuit that we’ll use. That is, the component values listed here will not work! This is so because the graphs and tables you used to get to this point used the normalized frequency within them. Also, you haven’t considered the effects of the source and load impedances. In order to construct the final working circuit, you must frequency and impedance scale the component values listed in the circuit in <a href="#filepos2447855">Fig. 9.8</a>. This leads us to the next step.</span></div>
<div id="filepos2447855" class="calibre3"><span><img alt="image" src="images/01524.jpg" class="calibre1363"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.8</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Step 5 (Frequency and Impedance Scaling)</span></span></div>
<div class="calibre3"><span><img alt="image" src="images/01525.jpg" class="calibre1364"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>To account for impedance matching of the source and load, as well as getting rid of the normalized frequency, apply the following frequency and impedance scaling rules. To frequency scale, divide the capacitor and inductor values that you got from the table by ω = 2π<span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">c</sub></span></small></span>. To impedance scale, multiply resistor and inductor values by the load impedance and divide the capacitor values by the load impedance. In other words, use the following two equations to get the actual component values needed:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01526.jpg" class="calibre1365"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The calculations and the final low-pass circuit are shown in the figure.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.9</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2449594" class="calibre3"><span class="calibre7"><span><a></a><span class="bold">9.4   A Note on Filter Types</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>It was briefly mentioned earlier that Chebyshev and Bessel filters could be used instead of Butterworth filters. To design Chebyshev and Bessel filters, you take the same approach you used to design Butterworth filters. However, you need to use different low-pass attenuation graphs and tables to come up with the component values placed in the π and <span class="italic">T LC</span> networks. If you are interested in designing Chebyshev and Bessel filters, consult a filter design handbook. Now, to give you a better understanding of the differences between the various filter types, the following few paragraphs should help.</span></div>
<div class="calibre26"><span>Butterworth filters are perhaps the most popular filters used. They have very flat frequency response in the middle passband region, although they have somewhat rounded bends in the region near the −3-dB point. Beyond the −3-dB point, the rate of attenuation increases and eventually reaches <span class="italic">n</span> × 6 dB per octave (e.g., <span class="italic">n</span> = 3, attenuation = 18 dB/octave). Butterworth filters are relatively easy to construct, and the components needed tend not to require as strict tolerances as those of the other filters.</span></div>
<div class="calibre26"><span>Chebyshev filters (e.g., 0.5-dB ripple, 0.1-dB ripple Chebyshev filter) provide a sharper rate of descent in attenuation beyond the −3-dB point than Butterworth and Bessel filters. However, there is a price to pay for the steep descent—the cost is a ripple voltage within the passband, referred to as the <span class="italic">passband ripple</span>. The size of the passband ripple increases with order of the filter. Also, Chebyshev filters are more sensitive to component tolerances than Butterworth filters.</span></div>
<div class="calibre26"><span>Now, there is a problem with Butterworth and Chebyshev filters—they both introduce varying amounts of delay time on signals of different frequencies. In other words, if an input signal consists of a multiple-frequency waveform (e.g., a modulated signal), the output signal will become distorted because different frequencies will be displaced by different delay times. The delay-time variation over the passband is called <span class="italic">delay distortion</span>, and it increases as the order of the Butterworth and Chebyshev filters increases. To avoid this effect, a Bessel filter can be used. Bessel filters, unlike Butterworth and Chebyshev filters, provide a constant delay over the passband. However, unlike the other two filters, Bessel filters do not have as sharp an attenuation falloff. Having a sharp falloff, however, is not always as important as good signal reproduction at the output. In situations where actual signal reproduction is needed, Bessel filters are more reliable.</span></div>
<div id="filepos2452914" class="calibre3"><span class="calibre7"><span><span class="bold">9.5   Passive High-Pass Filter Design</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>Suppose that you want to design a high-pass filter that has an <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> = 1000 Hz and an attenuation of at least −45 dB at 300 Hz—which we call the <span class="italic">stop frequency f<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span>. Assume that the filter is hooked up to a source and load that both have impedances of 50 Ω and that a Butterworth response is desired. How do you design the filter? The trick, as you will see in a second, involves treating the high-pass response as an inverted low-pass response, then designing a normalized low-pass filter, applying some conversion tricks on the low-pass filter’s components to get a normalized high-pass filter, and then frequency and impedance scaling the normalized high-pass filter.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01527.jpg" class="calibre1366"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>    First, make a simple sketch of the response curve for the high-pass filter, as shown in the far-left graph. Next, take the high-pass curve and flip it around in the horizontal direction to get a low-pass response. Then normalize the low-pass response. (This allows you to use the low-pass design techniques. Later you will need to apply a transformation trick on the normalized component values of the low-pass filter to get the desired high-pass filter.) To find the steepness factor <span class="italic">A<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span> and normalized stop-band frequency <span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span>, follow the same basic procedure as you used in the low-filter example, except now you must take <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> over <span class="italic">f:</span></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01528.jpg" class="calibre1367"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This expression tells us that the normalized stop-band frequency is 3.3 times larger than the normalized −3-dB frequency. Since the normalized graph sets <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> to 1 rad/s, <span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span> becomes 3.3 rad/s.<br class="calibre16"/>    Next, take the low-pass filter response from the preceding step and determine which response curve in <a href="#filepos2443279">Fig. 9.6</a> provides an attenuation of at least −45 dB at 3.3 rad/s. The <span class="italic">n</span> = 5 curve does the trick, so you create a fifth-order <span class="italic">LC</span> network. Now, the question to ask is, Do you use the π or the <span class="italic">T</span> network? Initially, you might assume the π network would be best, since the load and source impedances are equal and since fewer inductors are needed. However, when you apply the transformational trick to get the low-pass filter back to a high-pass filter, you will need to interchange inductors for capacitors and capacitors for inductors. Therefore, if you choose the low-pass <span class="italic">T</span> network now, you will get fewer inductors in the final high-pass circuit. The fifth-order normalized low-pass filter network is shown in the figure.<br class="calibre16"/>    To convert the low-pass into a high-pass filter, replace the inductors with capacitors that have value of 1/<span class="italic">L</span>, and replace the capacitors with inductors that have values of 1/<span class="italic">C</span>. In other words, do the following:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.10</span></span></span></div><div class="calibre35"> </div>
<div class="calibre6"><span><img alt="image" src="images/01529.jpg" class="calibre1368"/></span></div>
<div class="calibre6"><span><img alt="image" src="images/01530.jpg" class="calibre1369"/></span></div>
<div class="calibre30"><span>Next, frequency and impedance scale to get the actual component values:</span></div>
<div class="calibre6"><span><img alt="image" src="images/01531.jpg" class="calibre1370"/></span></div>
<div class="calibre6"><span><img alt="image" src="images/01532.jpg" class="calibre1371"/></span></div>
<div id="filepos2457946" class="calibre3"><span class="calibre7"><span><a></a><span class="bold">9.6   Passive Bandpass Filter Design</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>Bandpass filters can be broken down into narrow-band and wide-band types. The defining difference between the two is the ratio between the upper −3-dB frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> and lower −3-dB frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>. If <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> is greater than 1.5, the bandpass filter is placed in the wide-type category. Below 1.5, the bandpass filter is placed in the narrow-band category. As you will see in a moment, the procedure used to design a wide-band bandpass filter differs from that used to design a narrow-band filter.</span></div>
<div class="calibre3"><span><span class="bold">Wide-Band Design</span></span></div>
<div class="calibre11"><span>The basic approach used to design wide-band bandpass filters is simply to combine a low-pass and high-pass filter together. The following example will cover the details. Suppose that you want to design a bandpass filter that has −3-dB points at <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 1000 Hz and <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> = 3000 Hz and at least −45 dB at 300 Hz and more than −25 dB at 9000 Hz. Also, again assume that the source and load impedances are both 50 Ω and a Butterworth design is desired.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01533.jpg" class="calibre1372"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The basic sketch shown here points out the basic response desired. The ratio <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 3, which is larger than 1.5, so you do indeed have a wide-band situation. Notice how the sketch resembles low-pass and high-pass response curves placed together on the same graph. If you break up the response into low- and high-phase curves, you get the following results:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01534.jpg" class="calibre1373"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>    Now, to design the wide-band bandpass filter, construct a low-pass and high-pass filter using the values above and the design technique used in the preceding two example problems. Once you have done this, simply cascade the low-pass and high-pass filters together. The nice thing about this problem is the low-pass and high-pass filters that are needed are simply the filters used in the preceding low-pass and high-pass examples. The final cascade network is shown at the bottom of the figure.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.11</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Narrow-Band Design</span></span></div>
<div class="calibre11"><span><a></a>Narrow-band filters (<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> &lt; 1.5), unlike wide-band filters, cannot be made simply by cascading low-pass and high-pass filters together. Instead, you must use a new, slightly tricky procedure. This procedure involves transforming the −3-dB band-width (Δ<span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">BW</sub></span></small></span> = <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> − <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small>) of a bandpass filter into the −3-dB frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> of a low-pass filter. At the same time, the stop-band bandwidth of the bandpass filter is transformed into the corresponding stop-band frequency of a low-pass filter. Once this is done, a normalized low-pass filter is created. After the normalized low-pass filter is created, the filter must be frequency scaled in a special way to get the desired bandpass filter. (The normalized circuit also must be impedance scaled, as before.) When frequency scaling the components of the normalized low-pass filter, do not divide by ω = 2π<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small>, as you would do with low-pass scaling. Instead, the normalized low-pass filter’s components are divided by 2π(Δ<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37"><span class="italic">BW</span></sub></span></small>). Next, the scaled circuit’s branches must be resonated to the bandpass filter’s center frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> by placing additional inductors in parallel with the capacitors and placing additional capacitors in series with the inductors. This creates <span class="italic">LC</span> resonant circuit sections. The values of the additional inductors and capacitors are determined by using the <span class="italic">LC</span> resonant equation (see <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_000.html#filepos211756">Chap. 2</a> for the details):</span></div>
<div class="calibre19"><span><img alt="image" src="images/01535.jpg" class="calibre1374"/></span></div>
<div class="calibre3"><span><span class="bold">NARROW-BANDWIDTH BANDPASS FILTER EXAMPLE</span></span></div>
<div class="calibre11"><span>Suppose that you want to design a bandpass filter with −3-dB points at <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 900 Hz and <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> = 1100 Hz and at least −20 dB worth of attenuation at 800 and 1200 Hz. Assume that both the source and load impedances are 50 Ω and that a Butterworth design is desired.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01536.jpg" class="calibre1375"/></span></div>
<div class="calibre3"><span><img alt="image" src="images/01537.jpg" class="calibre1376"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Since <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 1.2, which is less than 1.5, a narrow-band filter is needed. The initial step in designing a narrow-band bandpass filter is to normalize the bandpass requirements. First, the geometric center frequency is determined:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01538.jpg" class="calibre1377"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Next, compute the two pair of geometrically related stop-band frequencies by using</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01539.jpg" class="calibre1378"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Notice how things are a bit confusing. For each pair of stop-band frequencies, you get two new pairs—a result of making things “geometrical” with respect to <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small>. Choose the pair having the least separation, which represents the more severe requirement −375 Hz.<br class="calibre16"/>    The steepness factor for the bandpass filter is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01540.jpg" class="calibre1379"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Now choose a low-pass Butterworth response that provides at least −20 dB at 1.88 rad/s. According <a href="#filepos2443279">Fig. 9.6</a>, the <span class="italic">n</span> = 3 curve does the trick. The next step is to create a third-order normalized low-pass filter using the π configuration and <a href="#filepos2446645">Table 9.1</a>.<br class="calibre16"/>    Next, impedance and frequency scale the normalized low-pass filter to require an impedance level of 50 Ω. and a −3-dB frequency equal to the desired bandpass filter’s bandwidth (Δ<span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">BW</sub></span></small></span> = <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> − <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small>)—which in this example equals 200 Hz. Notice the frequency-scaling trick! The results follow:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01541.jpg" class="calibre1380"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>    The important part comes now. Each circuit branch of the low-pass filter must be resonated to <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> by adding a series capacitor to each inductor and a parallel inductor to each capacitor. The <span class="italic">LC</span> resonant equation is used to determine the additional component values:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01542.jpg" class="calibre1381"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The final bandpass circuit is shown at the bottom of the figure.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.12</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2468733" class="calibre3"><span class="calibre7"><span><span class="bold">9.7   Passive Notch Filter Design</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>To design a notch filter, you can apply a technique similar to the one you used in the narrow-band bandpass example. However, now you use a high-pass filter instead of a low-pass filter as the basic building block. The idea here is to relate the notch filter’s −3-dB bandwidth (Δ<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37"><span class="italic">BW</span></sub></span></small> = <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> − <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>) to the −3-dB frequency of a high-pass filter and relate the notch filter’s stop-band bandwidth to the stop-band frequency of a high-pass filter. After that, a normalized high-pass filter is created. This filter is then frequency scaled in a special way—all its components are divided by 2πΔ<span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">BW</sub></span></small></span>. (This circuit also must be impedance scaled, as before.) As with the narrow-band bandpass filter example, the scaled high-pass filter’s branches must be resonated to the notch filter’s center frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> by inserting additional series capacitors with existing inductors and inserting additional parallel inductors with existing capacitors.</span></div>
<div class="calibre3"><span><span class="bold">EXAMPLE</span></span></div>
<div class="calibre11"><span>Suppose that you want to design a notch filter with −3-dB points at <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 800 Hz and <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> = 1200 Hz and at least −20 dB at 900 and 1100 Hz. Let’s assume that both the source and load impedances are 600 Ω and that a Butterworth design is desired.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01543.jpg" class="calibre1382"/></span></div>
<div class="calibre3"><span><img alt="image" src="images/01544.jpg" class="calibre1383"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>First, you find the geometric center frequency:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01545.jpg" class="calibre1384"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Next, compute the two pairs of geometrically related stop-band frequencies:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01546.jpg" class="calibre1385"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Choose the pair of frequencies that gives the more severe requirement—227 Hz.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>    Next, compute the notch filter’s steepness factor, which is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01547.jpg" class="calibre1386"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>To come up with the final notch filter design, start out by treating the steepness factor as the steepness factor for a high-pass filter. Next, apply the same tricks you used earlier to construct a high-pass filter. Horizontally flip the high-pass response to get a low-pass response. Then normalize the low-pass response (setting the normalized stop frequency to 1.7 rad/s) and use <a href="#filepos2443279">Fig. 9.6</a> (<span class="italic">n</span> = 3 provides at least −20 dB at 1.7 rad/s). Next, use <a href="#filepos2446645">Table 9.1</a> and the π network to come up with a normalized low-pass design. Then apply the low-pass to high-pass transformational tricks to get a normalized high-pass filter:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01548.jpg" class="calibre1387"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The first three circuits in the figure show the low-pass to high-pass transformational process.<br class="calibre16"/>    Next, impedance and frequency scale the normalized high-pass filter to require an impedance level of 600 Ω and a −3-dB frequency equal to the desired notch filter’s bandwidth (Δ<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">BW</sub></span></small> = <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> − <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small>)—which in the example equals 400 Hz. Notice the frequency-scaling trick! The results follow:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01549.jpg" class="calibre1388"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>And finally, the important modification—resonate each branch to the notch filter’s center frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> by adding a series capacitor to each inductor and a parallel inductor to each capacitor. The values for these additional components must be</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01550.jpg" class="calibre1389"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The final circuit is shown at the bottom of the figure.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.13</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2475479" class="calibre3"><span class="calibre7"><span><span class="bold">9.8   Active Filter Design</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>This section covers some basic Butterworth active filter designs. I already discussed the pros and cons of active filter design earlier in this chapter. Here I will focus on the actual design techniques used to make unity-gain active filters. To begin, let’s design a low-pass filter.</span></div>
<div id="filepos2476172" class="calibre48"><span class="bold"><span class="italic"><span><a></a><span class="italic">9.8.1   Active Low-Pass Filter Example</span></span></span></span></div>
<div id="filepos2476345" class="calibre3"><span><img alt="images" src="images/01551.jpg" class="calibre1390"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Suppose that you wish to design an active low-pass filter that has a 3-dB point at 100 Hz and at least 60 dB worth of attenuation at 400 Hz—which we’ll call the <span class="italic">stop frequency f<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span>.<br class="calibre16"/>    The first step in designing the filter is to normalize low-pass requirements. The steepness factor is</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01552.jpg" class="calibre1391"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This means that the normalized position of <span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">s</sub></span></small></span> is set to 4 rad/s. See the graphs in <a href="#filepos2476345">Fig. 9.14</a>. Next, use the Butterworth low-pass filter response curves in <a href="#filepos2443279">Fig. 9.6</a> to determine the order of filter you need. In this case, the <span class="italic">n</span> = 5 curve provides over −60 dB at 4 rad/s. In other words, you need a fifth-order filter.<br class="calibre16"/>    Now, unlike passive filters design, active filter design requires the use of a different set of basic normalized filter networks and a different table to provide the components of the networks. The active filter networks are shown in <a href="#filepos2476345">Fig. 9.14</a>—there are two of them. The one to the left is called a <span class="italic">two-pole section</span>, while the one on the right is called a <span class="italic">three-pole section</span>. To design a Butterworth low-pass normalized filter of a given order, use <a href="#filepos2479259">Table 9.2</a>. (Filter handbooks provide Chebyshev and Bessel tables as well.) In this example, a five-pole filter is needed, so according to the table, two sections are required—a three-pole and a two-pole section. These sections are cascaded together, and the component values listed in <a href="#filepos2479259">Table 9.2</a> are placed next to the corresponding components within the cascaded network. The resulting normalized low-pass filter is shown in <a href="#filepos2479407">Fig. 9.15</a>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.14</span></span></span></div><div class="calibre35"> </div>
<div class="calibre4"><span class="calibre17"><span class="bold"><span><span class="bold">TABLE 9.2 Butterworth Normalized Active Low-Pass Filter Values</span></span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div id="filepos2479259" class="calibre3"><span><img alt="images" src="images/01553.jpg" class="calibre1392"/></span></div>
<div id="filepos2479407" class="calibre3"><span><img alt="images" src="images/01554.jpg" class="calibre1393"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>     The normalized filter will provide the correct response, but the component values are impractical—they’re too big. In order to bring these values down to size, the circuit must be frequency and impedance scaled. To frequency scale, simply divide the capacitor values by 2π<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">3dB</sub></span></small> (you need not frequency scale the resistors—they aren’t reactive). In terms of impedance scaling, you do not have to deal with source/load impedance matching. Instead, simply multiply the normalized filter circuit’s resistors by a factor of <span class="italic">Z</span> and divide the capacitors by the same factor. The value of <span class="italic">Z</span> is chosen to scale the normalized filter components to more practical values. A typical value for <span class="italic">Z</span> is 10,000 Ω. In summary, the final scaling rules are expressed as follows:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01555.jpg" class="calibre1394"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Taking <span class="italic">Z</span> to be 10,000 Ω, you get the final low-pass filter circuit shown at the bottom of the figure.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.15</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2481146" class="calibre3"><span class="bold"><span class="italic"><span><span class="italic">9.8.2   Active High-Pass Filter Example</span></span></span></span></div>
<div class="calibre11"><span>The approach used to design active high-pass filters is similar to the approach used to design passive high-pass filters. Take a normalized low-pass filter, transform it into a high-pass circuit, and then frequency and impedance scale it. For example, suppose that you want to design a high-pass filter with a −3-dB frequency of 1000 Hz and 50 dB worth of attenuation at 300 Hz. What do you do?</span></div>
<div id="filepos2481805" class="calibre3"><span><img alt="images" src="images/01556.jpg" class="calibre1395"/></span></div>
<div class="calibre3"><span><img alt="images" src="images/01557.jpg" class="calibre1396"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The first step is to convert the high-pass response into a normalized low-pass response, as shown in the figure. The steepness factor for the low-pass equivalent response is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01558.jpg" class="calibre1367"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This means that the stop frequency is set to 3.3 rad/s on the normalized graph. The Butterworth response curve shown in <a href="#filepos2443279">Fig. 9.6</a> tells you that a fifth-order (<span class="italic">n</span> = 5) filter will provide the needed attenuation response. Like the last example, a cascaded three-pole/two-pole normalized low-pass filter is required. This filter is shown in <a href="#filepos2481805">Fig. 9.16</a>.<br class="calibre16"/>    Next, the normalized low-pass filter must be converted into a normalized high-pass filter. To make the conversion, exchange resistors for capacitors that have values of 1/<span class="italic">R F</span>, and exchange capacitors with resistors that have values of 1/<span class="italic">C</span> Ω. The second circuit in <a href="#filepos2481805">Fig. 9.16</a> shows the transformation.<br class="calibre16"/><a></a>    Like the last example problem, to construct the final circuit, the normalized high-pass filter’s component values must be frequency and impedance scaled:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01559.jpg" class="calibre1397"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Again, let <span class="italic">Z</span> = 10,000 Ω. The final circuit is shown in <a href="#filepos2484233">Fig. 9.17</a>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.16</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2484233" class="calibre3"><span><img alt="image" src="images/01560.jpg" class="calibre181"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.17</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2484508" class="calibre3"><span class="bold"><span class="italic"><span><span class="italic">9.8.3   Active Bandpass Filters</span></span></span></span></div>
<div class="calibre11"><span>To design an active bandpass filter, it is necessary to determine if a wide-band or narrow-band type is needed. If the upper 3-dB frequency divided by the lower 3-dB frequency is greater than 1.5, the bandpass filter is a wide-band type; below 1.5, it is a narrow-band type. To design a wide-band bandpass filter, simply cascade a high-pass and low-pass active filter together. To design a narrow-band bandpass filter, you have to use some special tricks.</span></div>
<div class="calibre3"><span><span class="bold">Wide-Band Example</span></span></div>
<div class="calibre11"><span>Suppose that you want to design a bandpass filter that has Ω3-dB points at <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 1000 Hz and <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> = 3000 Hz and at least −30 dB at 300 and 10,000 Hz. What do you do?</span></div>
<div class="calibre3"><span><img alt="images" src="images/01561.jpg" class="calibre1398"/></span></div>
<div class="calibre3"><span><img alt="images" src="images/01562.jpg" class="calibre1399"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>First, confirm that this is a wide-band situation:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01563.jpg" class="calibre1400"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Yes it is—it is greater than 1.5. This means that you simply have to cascade a low-pass and high-pass filter together. Next, the response requirements for the bandpass filter are broken down into low-pass and high-pass requirements:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01564.jpg" class="calibre1401"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>The steepness factor for the low-pass filter is</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01565.jpg" class="calibre1402"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>while the steepness factor for the high-pass filter is</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01566.jpg" class="calibre1367"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>This means that the normalized stop frequencies for both filters will be 3.3 rad/s. Next, use the response curves in <a href="#filepos2443279">Fig. 9.6</a> to determine the needed filter orders—<span class="italic">n</span> = 3 provides over −30 dB at 3.3 rad/s. To create the cascaded, normalized low-pass/high-pass filter, follow the steps in the last two examples. The upper two circuits in the figure show the steps involved in this process. To construct the final bandpass filter, the normalized bandpass filter must be frequency and impedance scaled.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Low-pass section:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01567.jpg" class="calibre1403"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>High-pass section:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01568.jpg" class="calibre1404"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Choose <span class="italic">Z</span> = 10,000 Ω. to provide convenient scaling of the components. In the normalized circuit, resistors are multiplied by a factor of <span class="italic">Z</span>. The final bandpass filter is shown at the bottom of the figure.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.18</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Narrow-Band Example</span></span></div>
<div class="calibre11"><span>Suppose that you want to design a bandpass filter that has a center frequency <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> = 2000 Hz and a −3-dB bandwidth Δ<span class="italic">f<small class="calibre28"><span class="calibre17"><sub class="calibre37">BW</sub></span></small></span> = <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> − <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 40 Hz. How do you design the filter? Since <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> = 2040 Hz/1960 Hz = 1.04, it is not possible to used the low-pass/high-pass cascading technique you used in the wide-band example. Instead, you must use a different approach. One simple approach is shown below.</span></div>
<div id="filepos2490317" class="calibre3"><span><img alt="images" src="images/01569.jpg" class="calibre1405"/></span></div>
<div class="calibre3"><span><img alt="images" src="images/01570.jpg" class="calibre1405"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>In this example, simply use the circuit in <a href="#filepos2490317">Fig. 9.19</a> and some important equations that follow. No detailed discussion will ensue.<br class="calibre16"/>    First, find the quality factor for the desired response:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01571.jpg" class="calibre1406"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Next, use the following design equations:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01572.jpg" class="calibre1332"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>Picking a convenient value for <span class="italic">C</span>—which we’ll set to 0.01 μF—the resistors’ values become</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01573.jpg" class="calibre1407"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The final circuit is shown at the bottom of the figure. <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> can be replaced with a variable resistor to allow for tuning.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>FIGURE 9.19</span></span></span></div><div class="calibre10"> </div>
<div id="filepos2492368" class="calibre48"><span class="bold"><span class="italic"><span><span class="italic">9.8.4   Active Notch Filters</span></span></span></span></div>
<div class="calibre11"><span>Active notch filters come in narrow- and wide-band types. If the upper −3-dB frequency divided by the lower −3-dB frequency is greater than 1.5, the filter is called a <span class="italic">wide-band notch filter</span>—less than 1.5, the filter is called a <span class="italic">narrow-band notch filter</span>.</span></div>
<div class="calibre3"><span><span class="bold">Wide-Band Notch Filter Example</span></span></div>
<div class="calibre11"><span>To design a wide-band notch filter, simply combine a low-pass and high-pass filter together as shown in <a href="#filepos2493258">Fig. 9.20</a>.</span></div>
<div id="filepos2493258" class="calibre3"><span><img alt="image" src="images/01574.jpg" class="calibre1408"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>For example, if you need a notch filter to have −3-dB points at 500 and 5000 Hz and at least −15 dB at 1000 and 2500 Hz, simply cascade a low-pass filter with a response of</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>3 dB at 500 Hz<br class="calibre16"/>15 dB at 1000 Hz</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>with a high-pass filter with a response of</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>3 dB at 5000 Hz<br class="calibre16"/>15 dB at 2500 Hz</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>After that, go through the same low-pass and high-pass design procedures covered earlier. Once these filters are constructed, combine them as shown in the circuit in <a href="#filepos2493258">Fig. 9.20</a>. In this circuit, <span class="italic">R</span> = 10 k is typically used.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.20</span></span></span></div><div class="calibre35"> </div>
<div class="calibre3"><span><span class="bold">Narrow-Band Notch Filters Example</span></span></div>
<div class="calibre11"><span>To design a narrow-band notch filter (<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> &lt; 1.5), an <span class="italic">RC</span> network called the <span class="italic">twin-T</span> (see <a href="#filepos2495535">Fig. 9.21</a>) is frequently used. A deep null can be obtained at a particular frequency with this circuit, but the circuit’s <span class="italic">Q</span> is only ¼. (Recall that the <span class="italic">Q</span> for a notch filter is given as the center or null frequency divided by the −3-dB bandwidth.) To increase the <span class="italic">Q</span>, use the active notch filter shown in <a href="#filepos2496643">Fig. 9.22</a>.</span></div>
<div id="filepos2495535" class="calibre3"><span><img alt="images" src="images/01575.jpg" class="calibre1409"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>Like the narrow-bandpass example, let’s simply go through the mechanics of how to pick the component values of the active notch filter. Here’s an example.<br class="calibre16"/>    Suppose that you want to make a “notch” at <span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">0</sub></span></small> = 2000 Hz and desire a −3-dB bandwidth of Δ<span class="italic">f</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">BW</sub></span></small> = 100 Hz. To get this desired response, do the following. First determine the <span class="italic">Q:</span></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01576.jpg" class="calibre1410"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.21</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2496643" class="calibre3"><span><img alt="images" src="images/01577.jpg" class="calibre1411"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The components of the active filter are found by using</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01578.jpg" class="calibre1412"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Now arbitrarily choose <span class="italic">R</span> and <span class="italic">C</span>; say, let <span class="italic">R</span> = 10 k and <span class="italic">C</span> = 0.01 μF. Next, solve for <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> and <span class="italic">K:</span></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="images" src="images/01579.jpg" class="calibre1413"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Substitute these values into the circuit in <a href="#filepos2496643">Fig. 9.22</a>. Notice the variable potentiometer—it is used to fine-tune the circuit.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.22</span></span></span></div><div class="calibre35"> </div>
<div id="filepos2498042" class="calibre3"><span class="calibre7"><span><span class="bold">9.9   Integrated Filter Circuits</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>A number of filter ICs are available on the market today. Two of the major categories of integrated filter circuits include the state-variable and switched-capacitor filter ICs. Both these filter ICs can be programmed to implement all the second-order functions described in the preceding sections. To design higher-order filters, a number of these ICs can be cascaded together. Typically, all that’s needed to program these filter ICs is a few resistors. Using IC filters allows for great versatility, somewhat simplified design, good precision, and limited design costs. Also, in most applications, frequency and selectivity factors can be adjusted independently.</span></div>
<div class="calibre26"><span>An example of a state-variable filter IC is the AF100 made by National Semiconductor. This IC can provide low-pass, high-pass, bandpass, and notch filtering capabilities (see <a href="#filepos2499536">Fig. 9.23</a>). Unlike the preceding filters covered in this chapter, the state-variable filter also can provide voltage gain.</span></div>
<div id="filepos2499536" class="calibre3"><span><img alt="image" src="images/01580.jpg" class="calibre790"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.23</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span><a></a>For the AF100, the low-pass gain is set using resistors <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> and <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small> (gain = <span class="italic">−R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small>/<span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small>). For the high-pass filter, the gain is set by resistors <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> and <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small> (gain = <span class="italic">−R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small>/<span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">in</sub></span></small>). (The negative sign indicates that the output is inverted relative to the input.) Setting the gain for the bandpass and notch functions is a bit more complex. Other parameters, such as <span class="italic">Q</span>, can be tweaked by using design formulas provided by the manufacturer. A good filter design handbook will discuss state-variable filters in detail and will provide the necessary design formulas. Also, check out the electronics catalogs to see what kinds of state-variable ICs exist besides the AF100.</span></div>
<div class="calibre26"><span>Switched-capacitor filters are functionally similar to the other filters already discussed. However, instead of using external resistors to program the desired characteristics, switched-capacitor filters use a high-frequency capacitor-switching network technology. The capacitor-switching networks act like resistors whose values can be changed by changing the frequency of an externally applied clock voltage. The frequency of the clock signal determines which frequencies are passed and which frequencies get rejected. Typically, a digital clock signal is used to drive the filter—a useful feature if you are looking to design filters that can be altered by digital circuits. An example of a switched-capacitor IC is National Semiconductor’s MF5 (see <a href="#filepos2502255">Fig. 9.24</a>). By simply using a few external resistors, a power source, and an applied clock signal, you can program the filter for low-pass, high-pass, and bandpass functions. Again, like the state-variable ICs, manufacturers will provide you with necessary formulas needed for selecting the resistors and the frequency of the clock signal.</span></div>
<div id="filepos2502255" class="calibre3"><span><img alt="image" src="images/01581.jpg" class="calibre311"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 9.24</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span>Switched-capacitor filters come in different filter orders. For example, the MF4 is a fourth-order Butterworth low-pass filter, and the MF6 is a sixth-order low-pass Butterworth filter; both are made by National Semiconductor. These two ICs have unity passband gain and require no external components, but they do require a clock input. There are a number of different kinds of switched-capacitor filters out there, made by a number of different manufacturers. Check the catalogs.</span></div>
<div class="calibre26"><span>As an important note, the periodic clock signal applied to a switched-capacitor filter can generate a significant amount of noise (around 10 to 25 m V) present in the output signal. Typically, this is not of much concern because the frequency of the noise—which is the same as the frequency of the clock—is far removed from the signal band of interest. Usually a simple <span class="italic">RC</span> filter can be used to get rid of the problem.</span></div>  <div class="mbppagebreak"></div><div id="filepos2503646" class="calibre8"><span><a></a><span class="bold">CHAPTER 10</span></span></div><div class="calibre32"> </div>
<div class="calibre19"><span class="calibre5"><span class="bold"><span><span class="bold">Oscillators and Timers</span></span></span></span></div><div class="calibre21"> </div>
<div class="calibre11"><span>Within practically every electronic instrument there is an oscillator of some sort. The task of the oscillator is to generate a repetitive waveform of desired shape, frequency, and amplitude that can be used to drive other circuits. Depending on the application, the driven circuit(s) may require either a pulsed, sinusoidal, square, sawtooth, or triangular waveform.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01582.jpg" class="calibre1414"/></span></div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 10.1</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span>In digital electronics, squarewave oscillators, called <span class="italic">clocks</span>, are used to drive bits of information through logic gates and flip-flops at a rate of speed determined by the frequency of the clock. In radio circuits, high-frequency sinusoidal oscillators are used to generate carrier waves on which information can be encoded via modulation. The task of modulating the carrier also requires an oscillator. In oscilloscopes, a sawtooth generator is used to generate a horizontal electron sweep to establish the time base. Oscillators are also used in synthesizer circuits, counter and timer circuits, and LED/lamp flasher circuits. The list of applications is endless.</span></div>
<div class="calibre26"><span>The art of designing good oscillator circuits can be fairly complex. There are a number of designs to choose from and a number of precision design techniques required. The various designs make use of different timing principles (e.g., <span class="italic">RC</span> charge/discharge cycle, <span class="italic">LC</span> resonant tank networks, crystals), and each is best suited for use within a specific application. Some designs are simple to construct but may have limited frequency stability. Other designs may have good stability within a certain frequency range, but poor stability outside that range. The shape of the generated waveform is obviously another factor that must be considered when designing an oscillator.</span></div>
<div class="calibre26"><span>This chapter discusses the major kinds of oscillators, such as the <span class="italic">RC</span> relaxation oscillator, the Wien-bridge oscillator, the <span class="italic">LC</span> oscillator, and the crystal oscillator. The chapter also takes a look at popular oscillator ICs.</span></div>
<div id="filepos2506503" class="calibre3"><span class="calibre7"><span><a></a><span class="bold">10.1   <span class="italic">RC</span> Relaxation Oscillators</span></span></span></div>
<div class="calibre11"><span><img alt="image" src="images/00007.jpg" class="calibre36"/></span></div>
<div class="calibre11"><span>Perhaps the easiest type of oscillator to design is the <span class="italic">RC</span> relaxation oscillator. Its oscillatory nature is explained by the following principle: Charge a capacitor through a resistor and then discharge it when the capacitor voltage reaches a certain threshold voltage. After that, the cycle is repeated, continuously. In order to control the charge/discharge cycle of the capacitor, an amplifier wired with positive feedback is used. The amplifier acts like a charge/discharge switch—triggered by the threshold voltage—and also provides the oscillator with gain. <a href="#filepos2507593">Figure 10.2</a> shows a simple op amp relaxation oscillator.</span></div>
<div id="filepos2507593" class="calibre3"><span><img alt="image" src="images/01583.jpg" class="calibre1003"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Assume that when power is first applied, the op amp’s output goes toward positive saturation (it is equally likely that the output will go to negative saturation—see <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_014.html#filepos2297020">Chap. 8</a> for the details). The capacitor will begin to charge up toward the op amp’s positive supply voltage (around +15 V) with a time constant of <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small><span class="italic">C</span>. When the voltage across the capacitor reaches the threshold voltage, the op amp’s output suddenly switches to negative saturation (around −15 V). The threshold voltage is the voltage set at the inverting input, which is</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01584.jpg" class="calibre1415"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The threshold voltage set by the voltage divider is now −7.5 V. The capacitor begins discharging toward negative saturation with the same <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small><span class="italic">C</span> time constant until it reaches −7.5 V, at which time the op amp’s output switches back to the positive saturation voltage. The cycle repeats indefinitely, with a period equal to 2.2<span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small><span class="italic">C</span>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 10.2</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span>Here’s another relaxation oscillator that generates a sawtooth waveform (see <a href="#filepos2509932">Fig. 10.3</a>). Unlike the preceding oscillator, this circuit resembles an op amp integrator network—with the exception of the PUT (programmable unijuction transistor) in the feedback loop. The PUT is the key ingredient that makes this circuit oscillate. Here’s a rundown on how this circuit works.</span></div>
<div id="filepos2509932" class="calibre3"><span><img alt="image" src="images/01585.jpg" class="calibre1416"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>Let’s initially pretend the circuit shown here does not contain the PUT. In this case, the circuit would resemble a simple integrator circuit; when a negative voltage is placed at the inverting input (−), the capacitor charges up at a linear rate toward the positive saturation voltage (+15 V). The output signal would simply provide a one-shot ramp voltage—it would not generate a repetitive triangular wave. In order to generate a repetitive waveform, we must now include the PUT. The PUT introduces oscillation into the circuit by acting as an active switch that turns on (anode-to-cathode conduction) when the anode-to-cathode voltage is greater by one diode drop than its gate-to-cathode voltage. The PUT will remain on until the current through it falls below the minimum holding current rating. This switching action acts to rapidly discharge the capacitor before the output saturates. When the capacitor discharges, the PUT turns off, and the cycle repeats. The gate voltage of the PUT is set via voltage-divider resistors <span class="italic">R</span>4 and <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">5</sub></span></small>. The <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> and <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> voltage-divider resistors set the reference voltage at the inverting input, while the diodes help stabilize the voltage across <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> when it is adjusted to vary the frequency. The output-voltage amplitude is determined by <span class="italic">R</span>4, while the output frequency is approximated by the expression below the figure. (The 0.5 V represents a typical voltage drop across a PUT.)</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 10.3</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span>Here’s a simple dual op amp circuit that generates both triangular and square waveforms (see <a href="#filepos2512305">Fig. 10.4</a>). This circuit combines a triangle-wave generator with a comparator.</span></div>
<div id="filepos2512305" class="calibre3"><span><img alt="image" src="images/01586.jpg" class="calibre1417"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The rightmost op amp in the circuit acts as a comparator—it is wired with positive feedback. If there is a slight difference in voltage between the inputs of this op amp, the <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> output voltage will saturate in either the positive or negative direction. For sake of argument, let’s say the op amp saturates in the positive direction. It will remain in that saturated state until the voltage at the noninverting input (+) drops below zero, at which time <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">2</sub></span></small> will be driven to negative saturation. The threshold voltage is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01587.jpg" class="calibre1418"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>where <span class="italic">V</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">sat</sub></span></small> is a volt or so lower than the op amp’s supply voltage (see <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_014.html#filepos2297020">Chap. 8</a>) Now this comparator is used with a ramp generator (leftmost op amp section). The output of the ramp generator is connected to the input of the comparator, while its output is fed back to the input of the ramp generator. Each time the ramp voltage reaches the threshold voltage, the comparator changes states. This gives rise to oscillation. The period of the output waveform is determined by the <span class="italic">R</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small><span class="italic">C</span> time constant, the saturation voltage, and the threshold voltage:</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01588.jpg" class="calibre1419"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>The frequency is 1/<span class="italic">T</span>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 10.4</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span>Now op amps are not the only active ingredient used to construct relaxation oscillators. Other components, such as transistors and digital logic gates, can take their place.</span></div>
<div class="calibre3"><span><img alt="image" src="images/01589.jpg" class="calibre1420"/></span></div>
<div class="calibre3"><span><img alt="image" src="images/01590.jpg" class="calibre1421"/></span></div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Here is a unijunction transistor (UJT), along with some resistors and a capacitor, that makes up a relaxation oscillator that is capable of generating three different output waveforms. During operation, at one instant in time, <span class="italic">C</span> charges through <span class="italic">R</span> until the voltage present on the emitter reaches the UJT’s triggering voltage. Once the triggering voltage is exceeded, the <span class="italic">E</span>-to-<span class="italic">B</span><small class="calibre28"><span class="calibre17"><sub class="calibre37">1</sub></span></small> conductivity increases sharply, which allows current to pass from the capacitor-emitter region through the emitter-base 1 region and then to ground. When this occurs, <span class="italic">C</span> suddenly loses its charge, and the emitter voltage suddenly falls below the triggering voltage. After that, the cycle repeats itself. The resulting waveforms generated during this process are shown in the figure. The frequency of oscillation is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01591.jpg" class="calibre1422"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><a></a>where η is the UJT’s intrinsic standoff ratio, which is typically around 0.5. See <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_008.html#filepos1507669">Chap. 4</a> for more details.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span>Here a simple relaxation oscillator is built from a Schmitt trigger inverter IC and an <span class="italic">RC</span> network. (Schmitt triggers are used to transform slowly changing input waveforms into sharply defined, jitter-free output waveforms (see <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_016.html#filepos2635639">Chap. 12</a>). When power is first applied to the circuit, the voltage across <span class="italic">C</span> is zero, and the output of the inverter is high (+5 V). The capacitor starts charging up toward the output voltage via <span class="italic">R</span>. When the capacitor voltage reaches the positive-going threshold of the inverter (e.g., 1.7 V), the output of the inverter goes low (∼0 V). With the output low, <span class="italic">C</span> discharges toward 0 V. When the capacitor voltage drops below the negative-going threshold voltage of the inverter (e.g., 0.9 V), the output of the inverter goes high. The cycle repeats. The on/off times are determined by the positive- and negative-going threshold voltages and the <span class="italic">RC</span> time constant.<br class="calibre16"/>    The third example is a pair of CMOS inverters that are used to construct a simple squarewave <span class="italic">RC</span> relaxation oscillator. The circuit can work with voltages ranging from 4 to 18 V. The frequency of oscillation is given by</span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><img alt="image" src="images/01592.jpg" class="calibre1423"/></span></span></span></div><div class="calibre10"> </div>
<div class="calibre11"><span class="calibre17"><span class="bold"><span><span class="italic">R</span> can be adjusted to vary the frequency. I will discuss CMOS inverters in <a href="CR%21QKYKJ7KY3158K36EJE0G9AYNF2ZW_split_016.html#filepos2635639">Chap. 12</a>.</span></span></span></div><div class="calibre10"> </div>
<div class="calibre34"><span class="calibre17"><span class="bold"><span>FIGURE 10.5</span></span></span></div><div class="calibre35"> </div>
<div class="calibre26"><span>All the relaxation oscillators shown in this section are relatively simple to construct. Now, as it turns out, there is even an easier way to generate basic waveforms. The easy way is to use an IC especially designed for the task. An incredibly popular squarewave-generating chip that can be programmed with resistors and a capacitor is the 555 timer IC.</span></div>
</body></html>
